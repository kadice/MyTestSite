<!DOCTYPE html>
<html>

<head>
    <title>無人島計算機</title>
    <!-- bootstrap 3 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- select2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <!-- DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" />
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <style>

    </style>
    <div class="container">

        <div id="appProds">
            <h4>{{ msg }}</h4>
            <button v-text="msg" v-on:click.prevent="addRow"></button>
            <table id="tbProds" class="table">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>島產品</th>
                        <th>描述</th>
                        <th>耗時</th>
                        <th>基本價格</th>
                        <th>特性1</th>
                        <th>特性2</th>
                        <th>人氣度</th>
                        <th>需要</th>
                        <th></th>
                    </tr>

                </thead>
                <tbody>
                    <tr v-for="item in prods">
                        <td v-text="item.id"></td>
                        <td v-text="item.nameJP"></td>
                        <td>
                            <label>
                                <input type="text" v-model="item.desc" id="desc" name="desc">
                            </label>
                        </td>
                        <td v-text="item.hour"></td>
                        <td v-text="item.price"></td>
                        <td v-text="item.prop1"></td>
                        <td v-text="item.prop2"></td>
                        <td v-text="item.pop"></td>
                        <td v-text="item.need"></td>
                        <td>
                            <i v-text="msg" v-on:click.prevent="onEdit(item.id)"></i>
                        </td>
        </div>
        </tr>
        </tbody>
        </table>
    </div>
    </div>
    <div id="TEST">
</body>
<!-- jQuery Core -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
    integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
<!-- bootstrap 3 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
<!-- DataTables -->
<script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<!-- select2 -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<!-- vue -->
<script src="https://unpkg.com/vue@3"></script>

<script>
    $(document).ready(function () {
        $("#tbProds").dataTable();
        $("#TEST").load("index.html");
    })
    Vue.createApp({
        data() {
            return {
                msg: "島產品",
                edit: null,
                prods: [
                    {
                        "id": "1",
                        "nameJP": "アイルポーション",
                        "desc": "藍藥水",
                        "hour": "4",
                        "price": "30",
                        "prop1": "藥品",
                        "prop2": "--",
                        "pop": "大人氣",
                        "need": "供給不足",
                    },
                    {
                        "id": "2",
                        "nameJP": "開拓工房の火薬",
                        "desc": "火藥",
                        "hour": "4",
                        "price": "30",
                        "prop1": "藥品",
                        "prop2": "窯業製品",
                        "pop": "人氣",
                        "need": "超供給不足",
                    },
                    {
                        "id": "3",
                        "nameJP": "アイルウッドチェア",
                        "desc": "木椅",
                        "hour": "6",
                        "price": "46",
                        "prop1": "調度品",
                        "prop2": "木工製品",
                        "pop": "不人氣",
                        "need": "普通",
                    }
                ]
            }
        },
        computed: {
            rows() {
                return this.prods.length
            }
        },
        methods: {
            onEdit(id) {
                this.edit = (this.edit !== id) ? id : null;
                console.log(this.edit + this.rows);
            },
            addRow: function (event) {
                var newRow = {
                    id: this.rows + 1,
                    nameJP: "請輸入"
                };
                this.prods.push(newRow);
            }
        },

    }).mount('#appProds');


</script>

</html>